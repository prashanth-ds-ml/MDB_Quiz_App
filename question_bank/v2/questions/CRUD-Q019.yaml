schema_version: '2.0'
id: CRUD-Q019
title: Effect of replaceOne() on omitted fields
topic: CRUD
subtopic: replaceOne() behavior
difficulty: easy
type: single
tags:
- replaceOne
- replacement
- update-vs-replace
- exam-favorite
exam_relevance:
  pool: exam
  confidence: high
prompt: 'What happens to fields that are omitted in a `replaceOne()` operation?

  '
context: 'You are replacing an existing document with a new one using replacement semantics instead of update operators.

  '
artifacts:
  sample_docs: []
  snippets: []
  notes:
  - replaceOne() performs a full document replacement.
  - Only the `_id` field is preserved automatically.
choices:
- key: A
  text: They remain unchanged
- key: B
  text: They are deleted from the document
- key: C
  text: The operation fails
- key: D
  text: They are set to null
answer:
  keys:
  - B
rationale:
  rule: 'replaceOne() removes all fields not present in the replacement document.

    '
  correct_why:
  - replaceOne() replaces the entire document except for `_id`.
  - Any field not included in the replacement document is removed.
  - This is the key difference between replaceOne() and update operators.
  wrong_why:
    A: Fields are preserved only when using update operators like `$set`.
    C: replaceOne() is a valid operation and does not fail due to omitted fields.
    D: Fields are removed, not set to null.
  trap: 'Thinking replaceOne() behaves like updateOne() with `$set`.

    '
  mini_demo: "// Original document\n{ _id: 1, name: \"Phone\", price: 500, stock: 20 }\n\n// replaceOne()\ndb.products.replaceOne(\n\
    \  { _id: 1 },\n  { name: \"Phone\", price: 550 }\n)\n\n// Result\n{ _id: 1, name: \"Phone\", price: 550 }\n"
status: published
author: prashanth
updated_at: '2025-12-13'
