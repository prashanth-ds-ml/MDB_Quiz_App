schema_version: '2.0'
id: CRUD-Q013
title: Using _id as a filter for replaceOne()
topic: CRUD
subtopic: replaceOne() filter
difficulty: easy
type: single
tags:
- replaceOne
- _id
- filters
- exam-favorite
exam_relevance:
  pool: exam
  confidence: high
prompt: 'You want to replace the following document from the `birds` collection with a new document that contains
  additional information such as recent sightings, scientific name, and wingspan. What field should you use in the
  filter document to ensure that this specific document is replaced?

  '
context: 'Each document in the `birds` collection has a unique `_id` field generated by MongoDB.

  '
artifacts:
  sample_docs:
  - _id: ObjectId('6286809e2f3fa87b7d86dccd')
    common_name: Morning Dove
    habitat:
    - urban areas
    - farms
    - grassland
    diet:
    - seeds
  snippets: []
  notes:
  - '`_id` uniquely identifies a document in a collection.'
  - Using non-unique fields can unintentionally match multiple documents.
  - replaceOne() replaces the first matching document.
choices:
- key: A
  text: '{ _id: ObjectId("6286809e2f3fa87b7d86dccd") }'
- key: B
  text: '{ diet: ["seeds"] }'
- key: C
  text: '{ habitat: ["urban areas"] }'
- key: D
  text: '{ scientific_name: "Zenaida macroura" }'
answer:
  keys:
  - A
rationale:
  rule: 'To target one exact document, always filter using its `_id`.

    '
  correct_why:
  - '`_id` is guaranteed to be unique within a collection.'
  - Filtering by `_id` ensures only the intended document is replaced.
  - This is the safest and most precise filter for replaceOne().
  wrong_why:
    B: Multiple bird documents may share the same diet.
    C: Many birds can have the same habitat value.
    D: The scientific_name field does not yet exist in the document.
  trap: 'Assuming any matching field is safe for replacement, which can lead to replacing the wrong document.

    '
  mini_demo: "db.birds.replaceOne(\n  { _id: ObjectId(\"6286809e2f3fa87b7d86dccd\") },\n  {\n    common_name: \"\
    Morning Dove\",\n    scientific_name: \"Zenaida macroura\",\n    wingspan_cm: 45\n  }\n)\n"
status: published
author: prashanth
updated_at: '2025-12-13'
